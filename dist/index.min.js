/*!
 * name: @jswork/next-offline-sw
 * description: Offline plugin for service worker runtime helper.
 * homepage: https://github.com/afeiship/next-offline-sw
 * version: 1.0.2
 * date: 2020-11-17T13:56:01.626Z
 * license: MIT
 */
!function(){var n=n||this||window||Function("return this")(),e=n.nx||require("@jswork/next"),t=n.navigator,i=require("offline-plugin/runtime"),o={onUpdateReady:function(){console.warn("SW Event:","You need to call `nx.OfflineSw.applyUpdate` to update resource when [onUpdated].")}},r=e.declare("nx.OfflineSw",{statics:{runtime:i,disabled:function(){return n.__SW_DISABLED__},install:function(n){this.disabled()||(n=e.mix(null,o,n),i.install(n))},uninstall:function(){t.serviceWorker.getRegistrations().then(function(n){n.forEach(function(n){n.unregister()})})},update:function(n){var e=this,n=n||300;this.applyUpdate(),setTimeout(function(){e.refresh()},n)},refresh:function(){n.location.reload()},applyUpdate:function(){i.applyUpdate()}}});"undefined"!=typeof module&&module.exports&&(module.exports=r)}();